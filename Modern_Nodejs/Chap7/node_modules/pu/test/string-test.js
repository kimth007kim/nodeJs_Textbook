"use strict";

const pu = require(__dirname + "/../index.js");

function run(assert, done) {

	assert(pu.fold("，,／/") == ",,//", "fold");

	assert(pu.html("<em>test</em>") == "&lt;em&gt;test&lt;/em&gt;", "html");

	var sample1 = "3.14 / 3 * 6";
	assert(pu.regex(sample1) == "3\\.14\\ /\\ 3\\ \\*\\ 6", "regex");

	assert(pu.replace(sample1, {
		"3.14": "[PI]",
		"/": "[divide]",
		"*": "[times]"
	}) == "[PI] [divide] 3 [times] 6", "replace");

	done();
}

process.env.test ? exports.run = run : run(require("assert"), err => err ? console.error(err) : null);