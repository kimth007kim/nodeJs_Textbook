const pu = require(__dirname + "/index.js");

var files = pu.dir(__dirname + "/lib", "js");
var docs = "";

files.forEach((file) => {

	// Section
	docs += `### ${file.toUpperCase().replace(/\.JS/, "")}\n\n`;

	// Methods
	var methods = require(__dirname + "/lib/" + file);
	for (var m in methods) {
		var def = methods[m].toString().match(/function\s*(\([^\(]*\))/);
		if (def && def[1] && def[1].length) {
			var params = def[1].replace(/_[$_a-zA-Z0-9]+/g, function(arg){
				return `[${arg.substr(1)}]`;
			});
			docs += `**pu.${m}${params}**\n\n`;
		}
	}

});

console.log(docs);